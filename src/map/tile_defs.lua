TILE_DEFS = {
    -- 1. up
    {
        -- possible sprite ids
        ids = { 1, 2, 3, 4 },
        -- valid tiles in adjacent squares in the 8 compass directions
        valid = {
            NE = { 4, 6, 14 },
            N = { 14 },
            NW = { 3, 5, 14 },
            E = { 1, 5, 11 },
            W = { 1, 6, 12 },
            SE = { 2, 3, 7, 9, 10, 12, 13 },
            S = { 2, 9, 10, 13 },
            SW = { 2, 4, 8, 9, 10, 11, 13 },
            NN = { 2, 7, 8, 14 },
            SS = { 2, 3, 4, 7, 8, 9, 10, 13, 14 },
            EE = { 1, 3, 5, 10, 11, 12, 13, 14 },
            WW = { 1, 4, 6, 9, 11, 12, 13, 14 }
        }
    },
    -- 2. down
    {
        ids = { 5, 6, 7, 8 },
        valid = {
            NE = { 1, 3, 5, 10, 11, 12, 13 },
            N = { 1, 11, 12, 13 },
            NW = { 1, 4, 6, 9, 11, 12, 13 },
            E = { 2, 7, 9 },
            W = { 2, 8, 10 },
            SE = { 4, 8, 14 },
            S = { 14 },
            SW = { 3, 7, 14 },
            NN = { 1, 3, 4, 5, 6, 11, 12, 13, 14 },
            SS = { 1, 5, 6, 14 },
            EE = { 2, 3, 7, 9, 10, 12, 13, 14 },
            WW = { 2, 4, 8, 9, 10, 11, 13, 14 }
        }
    },
    -- 3. left
    {
        ids = { 9, 10, 11, 12 },
        valid = {
            NE = { 2, 7, 14 },
            N = { 3, 5, 10 },
            NW = { 1, 4, 6, 9, 11, 12, 13 },
            E = { 14 },
            W = { 4, 9, 11, 13 },
            SE = { 1, 5, 14 },
            S = { 3, 7, 12 },
            SW = { 2, 4, 8, 9, 10, 11, 13 },
            NN = { 1, 3, 5, 10, 11, 12, 13, 14 },
            SS = { 2, 3, 7, 9, 10, 12, 13, 14 },
            EE = { 4, 6, 8, 14 },
            WW = { 1, 2, 4, 6, 8, 9, 11, 13, 14 }
        }
    },
    -- 4. right
    {
        ids = { 13, 14, 15, 16 },
        valid = {
            NE = { 1, 3, 5, 10, 11, 12, 13 },
            N = { 4, 6, 9 },
            NW = { 2, 8, 14 },
            E = { 3, 10, 12, 13 },
            W = { 14 },
            SE = { 2, 3, 7, 9, 10, 12, 13 },
            S = { 4, 8, 11 },
            SW = { 1, 6, 14 },
            NN = { 1, 4, 6, 9, 11, 12, 13, 14 },
            SS = { 2, 4, 8, 9, 10, 11, 13, 14 },
            EE = { 1, 2, 3, 5, 7, 10, 12, 13, 14 },
            WW = { 3, 5, 7, 14 }
        }
    },
    -- 5. top left outer corner
    {
        ids = { 17, 18 },
        valid = {
            NE = { 14 },
            N = { 14 },
            NW = { 3, 5, 14 },
            E = { 14 },
            W = { 1, 6, 12 },
            SE = { 1, 5, 14 },
            S = { 3, 7, 12 },
            SW = { 2, 4, 8, 9, 10, 11, 13 },
            NN = { 2, 7, 8, 14 },
            SS = { 2, 3, 7, 9, 10, 12, 13, 14 },
            EE = { 4, 6, 8, 14 },
            WW = { 1, 4, 6, 9, 10, 12, 13, 14 }
        }
    },
    -- 6. top right outer corner
    {
        ids = { 19, 20 },
        valid = {
            NE = { 4, 6, 14 },
            N = { 14 },
            NW = { 14 },
            E = { 1, 5, 11 },
            W = { 14 },
            SE = { 2, 3, 7, 9, 10, 11, 13 },
            S = { 4, 8, 11 },
            SW = { 1, 6, 14 },
            NN = { 2, 7, 8, 14 },
            SS = { 2, 4, 8, 9, 10, 11, 13, 14 },
            EE = { 1, 3, 5, 10, 11, 12, 13, 14 },
            WW = { 3, 5, 7, 14 }
        }
    },
    -- 7. bottom left outer corner
    {
        ids = { 21, 22 },
        valid = {
            NE = { 2, 7, 14 },
            N = { 3, 5, 10 },
            NW = { 1, 4, 6, 9, 11, 12, 13 },
            E = { 14 },
            W = { 2, 8, 10 },
            SE = { 14 },
            S = { 14 },
            SW = { 3, 7, 14 },
            NN = { 1, 3, 5, 10, 11, 12, 13, 14 },
            SS = { 1, 5, 6, 14 },
            EE = { 4, 6, 8, 14 },
            WW = { 2, 4, 8, 9, 10, 11, 13, 14 }
        }
    },
    -- 8. bottom right outer corner
    {
        ids = { 23, 24 },
        valid = {
            NE = { 1, 3, 5, 10, 11, 12, 13 },
            N = { 4, 6, 9 },
            NW = { 2, 8, 14 },
            E = { 2, 7, 9 },
            W = { 14 },
            SE = { 4, 8, 14 },
            S = { 14 },
            SW = { 14 },
            NN = { 1, 4, 6, 9, 11, 12, 13, 14 },
            SS = { 1, 5, 6, 14 },
            EE = { 2, 3, 7, 9, 10, 12, 13, 14 },
            WW = { 3, 5, 7, 14 }
        }
    },
    -- 9. top left inner corner
    {
        ids = { 25, 26 },
        valid = {
            NE = { 1, 3, 5, 10, 11, 12, 13 },
            N = { 1, 11, 12, 13 },
            NW = { 1, 4, 6, 9, 11, 12, 13 },
            E = { 3, 10, 12, 13 },
            W = { 2, 8 },
            SE = { 2, 3, 7, 9, 10, 12, 13 },
            S = { 4, 8 },
            SW = { 14 },
            NN = { 1, 3, 4, 5, 6, 11, 12, 13, 14 },
            SS = { 4, 8, 11, 14 },
            EE = { 1, 2, 3, 5, 7, 10, 12, 13, 14 },
            WW = { 2, 8, 10, 14 }
        }
    },
    -- 10. top right inner corner
    {
        ids = { 27, 28 },
        valid = {
            NE = { 1, 3, 5, 10, 11, 12, 13 },
            N = { 1, 11, 12, 13 },
            NW = { 1, 4, 6, 9, 11, 12, 13 },
            E = { 2, 7 },
            W = { 4, 9, 11, 13 },
            SE = { 14 },
            S = { 3, 7 },
            SW = { 2, 4, 8, 9, 10, 11, 13 },
            NN = { 1, 3, 4, 5, 6, 11, 12, 13, 14 },
            SS = { 3, 7, 12, 14 },
            EE = { 2, 7, 9, 14 },
            WW = { 1, 2, 4, 6, 8, 9, 11, 13, 14 }
        }
    },
    -- 11. bottom left inner corner
    {
        ids = { 29, 30 },
        valid = {
            NE = { 1, 3, 5, 10, 11, 12, 13 },
            N = { 4, 6 },
            NW = { 14 },
            E = { 3, 10, 12, 13 },
            W = { 1, 6 },
            SE = { 2, 3, 7, 9, 10, 12, 13 },
            S = { 2, 9, 10, 13 },
            SW = { 2, 4, 8, 9, 10, 11, 13 },
            NN = { 4, 6, 9, 14 },
            SS = { 2, 3, 4, 7, 8, 9, 10, 13, 14 },
            EE = { 1, 2, 3, 5, 7, 10, 12, 13, 14 },
            WW = { 1, 6, 12, 14 }
        }
    },
    -- 12. bottom right inner corner
    {
        ids = { 31, 32 },
        valid = {
            NE = { 14 },
            N = { 3, 5 },
            NW = { 1, 3, 6, 9, 11, 12, 13 },
            E = { 1, 5 },
            W = { 4, 9, 11, 13 },
            SE = { 2, 3, 7, 9, 10, 12, 13 },
            S = { 2, 9, 10, 13 },
            SW = { 2, 4, 8, 9, 10, 11, 13 },
            NN = { 3, 5, 10, 14 },
            SS = { 2, 3, 4, 7, 8, 9, 10, 13, 14 },
            EE = { 1, 5, 11, 14 },
            WW = { 1, 2, 4, 6, 8, 9, 11, 13, 14 }
        }
    },
    -- 13. fill
    {
        ids = { 33 },
        valid = {
            NE = { 1, 3, 5, 10, 11, 12, 13 },
            N = { 1, 11, 12, 13 },
            NW = { 1, 4, 6, 9, 11, 12, 13 },
            E = { 3, 10, 12, 13 },
            W = { 4, 9, 11, 13 },
            SE = { 2, 3, 7, 9, 10, 12, 13 },
            S = { 2, 9, 10, 13 },
            SW = { 2, 4, 8, 9, 10, 11, 13 },
            NN = { 1, 3, 4, 5, 6, 11, 12, 13, 14 },
            SS = { 2, 3, 4, 7, 8, 9, 10, 13, 14 },
            EE = { 1, 2, 3, 5, 7, 10, 12, 13, 14 },
            WW = { 1, 2, 4, 6, 8, 9, 11, 13, 14 }
        }
    },
    -- 14. air
    {
        ids = { 34 },
        valid = {
            NE = { 2, 4, 6, 7, 8, 9, 14 },
            N = { 2, 7, 8, 14 },
            NW = { 2, 3, 5, 7, 8, 10, 14 },
            E = { 4, 6, 8, 14 },
            W = { 3, 5, 7, 14 },
            SE = { 1, 4, 5, 6, 8, 11, 14 },
            S = { 1, 5, 6, 14 },
            SW = { 1, 3, 5, 6, 7, 12, 14 },
            NN = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 },
            SS = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 },
            EE = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 },
            WW = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 }
        }
    },
    -- 15. air tile (for tunneling)
    {
        ids = { 53 },
        valid = {
            NE = { 2, 4, 6, 7, 8, 9, 14 },
            N = { 2, 7, 8, 14 },
            NW = { 2, 3, 5, 7, 8, 10, 14 },
            E = { 4, 6, 8, 14 },
            W = { 3, 5, 7, 14 },
            SE = { 1, 4, 5, 6, 8, 11, 14 },
            S = { 1, 5, 6, 14 },
            SW = { 1, 3, 5, 6, 7, 12, 14 },
            NN = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 },
            SS = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 },
            EE = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 },
            WW = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 }
        }
    }
}